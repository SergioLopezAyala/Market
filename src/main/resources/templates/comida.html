<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tus Productos</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body class="bodyHome">
    <header class="header">
        <div class="header-content">
            <div class="greeting">
                <img src="../img/usuario.svg" alt="Foto de perfil" class="profilePic">
                <h1 class="greeting-text">Hola Jhon, buenos d√≠as. üòã</h1>
                <h2 class="greeting-text-2">¬øQu√© se te antoja hoy?</h2>
            </div>
            
            <img src="../img/javeriana.svg" alt="Logo Javeriana" class="logo1">
        </div>
    </header>

    <h1 class="title1-prod">Mecato de los estudiantes!</h1>

    <section class="product-section">
        <table class>
            <thead>
                <tr class>
                    <th>Nombre del Producto</th>
                    <th>Categor√≠a</th>
                    <th>Precio</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <!-- Productos de ejemplo -->
                <tr class="product-row">
                    <td class="product-name">Galletas</td>
                    <td class="product-category">Postres</td>
                    <td class="product-price">$3.000</td>
                    <td class="product-actions"><button class="edit-btn" onclick="comProduct('Libreta Universitaria')">Comprar</button></td>
                </tr>
                <tr class="product-row">
                    <td class="product-name">Pie de limon</td>
                    <td class="product-category">postres</td>
                    <td class="product-price">$5.000</td>
                    <td class="product-actions"><button class="edit-btn" onclick="comProduct('Laptop HP')">Comprar</button></td>
                </tr>
                <tr class="product-row">
                    <td class="product-name">lasagna</td>
                    <td class="product-category">comida</td>
                    <td class="product-price">$12.000</td>
                    <td class="product-actions"><button class="edit-btn" onclick="comProduct('Mochila Escolar')">Comprar</button></td>
                </tr>
                <tr class="product-row">
                    <td class="product-name">Bubaloo</td>
                    <td class="product-category">dulces</td>
                    <td class="product-price">$10.000</td>
                    <td class="product-actions"><button class="edit-btn" onclick="comProduct('Calculadora Cient√≠fica')">Comprar</button></td>
                </tr>
            </tbody>
        </table>
    </section>

       <!-- Submenu de compra -->
       <div class="submenu" id="purchaseForm" style="display: none;">
        <h3>Detalles de la compra</h3>
        <form id="purchaseDetails" onsubmit="confirmPurchase(event)">
            <div class="mb-3">
                <label for="quantity" class="form-label">Cantidad</label>
                <input type="number" class="form-control" id="quantity" placeholder="Cantidad de productos" required>
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Descripci√≥n</label>
                <input type="text" class="form-control" id="description" disabled>
            </div>
            <div class="mb-3">
                <label for="paymentMethod" class="form-label">M√©todo de Pago</label>
                <select class="form-select" id="paymentMethod" required>
                    <option value="">Selecciona un m√©todo</option>
                    <option value="tarjeta">Tarjeta de Cr√©dito</option>
                    <option value="efectivo">Efectivo</option>
                    <option value="paypal">PayPal</option>
                    <option value="paypal">Nequi</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Confirmar Compra</button>
        </form>
    </div>

    <script>
        function comProduct(productName) {
            var purchaseForm = document.getElementById("purchaseForm");

            // Alternar la visibilidad del submen√∫
            if (purchaseForm.style.display === "block") {
                purchaseForm.style.display = "none";  // Ocultar
            } else {
                purchaseForm.style.display = "block";  // Mostrar
                document.getElementById("description").value = productName;  // Actualizar la descripci√≥n
            }
        }

        function confirmPurchase(event) {
            event.preventDefault(); // Evitar la recarga de la p√°gina al enviar el formulario
            window.location.href = '../templates/procesarPago.html'; // Redirigir a la pasarela de pago
        }
    </script>
    
</body>
</html>